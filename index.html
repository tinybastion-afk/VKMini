<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>NSFW –ê–Ω–∫–µ—Ç–∞ ‚Ä¢ Phantasm Role</title>
  <script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
    .card { background: linear-gradient(145deg, #1a1a2e, #16213e); }
    summary { list-style: none; }
    summary::-webkit-details-marker { display: none; }
  </style>
</head>
<body class="bg-zinc-950 text-white min-h-screen">

  <div class="max-w-md mx-auto min-h-screen card shadow-2xl overflow-hidden">
    
    <div class="bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 p-6 flex items-center gap-4">
      <div class="text-4xl">üîû</div>
      <div>
        <h1 class="text-3xl font-bold">NSFW –ê–Ω–∫–µ—Ç–∞</h1>
        <p class="text-pink-200">Phantasm Role ‚Äî –ø–æ–∏—Å–∫ –ø–∞—Ä—Ç–Ω—ë—Ä–∞</p>
      </div>
    </div>

    <div class="p-6 space-y-8">

      <!-- 18+ -->
      <div class="bg-red-900/30 border border-red-500/50 p-5 rounded-3xl">
        <label class="flex items-center gap-3 cursor-pointer">
          <input type="checkbox" id="adult" required class="w-6 h-6 accent-pink-600">
          <span class="text-lg">–ú–Ω–µ –∏—Å–ø–æ–ª–Ω–∏–ª–æ—Å—å 18 –ª–µ—Ç –∏ —è —Å–æ–≥–ª–∞—Å–µ–Ω(–∞) —Å NSFW-–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º</span>
        </label>
      </div>

      <div>
        <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><span class="text-pink-500">üìù</span> –û —Å–µ–±–µ –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ</h2>
        <textarea id="about" rows="5" placeholder="–í–Ω–µ—à–Ω–æ—Å—Ç—å, –æ–ø—ã—Ç, —Ö–∞—Ä–∞–∫—Ç–µ—Ä, —á—Ç–æ –Ω—Ä–∞–≤–∏—Ç—Å—è..." class="w-full bg-zinc-900 border border-zinc-700 rounded-3xl px-5 py-4 text-lg resize-none"></textarea>
      </div>

      <div>
        <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><span class="text-pink-500">‚öß</span> –ü–æ–ª</h2>
        <select id="gender" class="w-full bg-zinc-900 border border-zinc-700 rounded-2xl px-5 py-3 text-lg">
          <option value="">–í—ã–±–µ—Ä–∏ –ø–æ–ª</option>
          <option value="–ú—É–∂—Å–∫–æ–π">–ú—É–∂—Å–∫–æ–π</option>
          <option value="–ñ–µ–Ω—Å–∫–∏–π">–ñ–µ–Ω—Å–∫–∏–π</option>
          <option value="–ù–æ–Ω-–±–∞–π–Ω–∞—Ä–∏">–ù–æ–Ω-–±–∞–π–Ω–∞—Ä–∏</option>
          <option value="–¢—Ä–∞–Ω—Å">–¢—Ä–∞–Ω—Å</option>
        </select>
      </div>

      <div>
        <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><span class="text-pink-500">üî•</span> –ü–æ–∑–∏—Ü–∏—è –≤ —Å—é–∂–µ—Ç–∞—Ö</h2>
        <select id="role" class="w-full bg-zinc-900 border border-zinc-700 rounded-2xl px-5 py-3 text-lg">
          <option value="">–í—ã–±–µ—Ä–∏ –ø–æ–∑–∏—Ü–∏—é</option>
          <option value="–ê–∫—Ç–∏–≤">–ê–∫—Ç–∏–≤</option>
          <option value="–ü–∞—Å—Å–∏–≤">–ü–∞—Å—Å–∏–≤</option>
          <option value="–£–Ω–∏">–£–Ω–∏</option>
        </select>
      </div>

      <div>
        <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><span class="text-pink-500">üîç</span> –ß—Ç–æ –∏—â—É</h2>
        <textarea id="search" rows="3" placeholder="–ß—Ç–æ –∏—â—É –≤ –ø–∞—Ä—Ç–Ω—ë—Ä–µ..." class="w-full bg-zinc-900 border border-zinc-700 rounded-3xl px-5 py-4 text-lg resize-none"></textarea>
      </div>

      <div>
        <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><span class="text-pink-500">üë•</span> –ö–æ–≥–æ –∏—â—É</h2>
        <div id="kogo" class="grid grid-cols-3 gap-3 text-sm"></div>
      </div>

      <details class="group">
        <summary class="text-xl font-semibold mb-4 flex items-center gap-2 cursor-pointer list-none">
          ‚ù§Ô∏è‚Äçüî• –ú–æ–∏ —Ñ–µ—Ç–∏—à–∏ (—Å—Ç–∞–≤—å –ª—é–±—ã–µ ‚Äî –Ω–∞–∂–º–∏ —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å)
          <span class="ml-auto text-pink-400 group-open:rotate-180 transition-transform">‚ñº</span>
        </summary>
        <div id="fetishes" class="space-y-8 text-sm pl-2"></div>
      </details>

      <button onclick="submitForm()" 
              class="w-full bg-gradient-to-r from-pink-600 to-purple-600 py-5 rounded-3xl text-xl font-bold active:scale-95 transition-all">
        –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∫–µ—Ç—É
      </button>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ —Å —Ç–∞–π–º–µ—Ä–æ–º –∏ —Ç–µ–∫—Å—Ç–æ–º -->
  <div id="successModal" class="hidden fixed inset-0 bg-black/90 flex items-center justify-center z-50">
    <div class="bg-zinc-900 rounded-3xl p-8 max-w-sm w-full text-center border border-pink-500">
      <div class="text-6xl mb-4">‚úÖ</div>
      <h2 class="text-2xl font-bold mb-2">–ê–Ω–∫–µ—Ç–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!</h2>
      <p class="text-zinc-400 mb-4">–¢–µ–∫—Å—Ç –≥–æ—Ç–æ–≤ –∫ –≤—Å—Ç–∞–≤–∫–µ</p>

      <div class="bg-zinc-950 rounded-2xl p-4 text-left text-sm max-h-80 overflow-auto mb-6 border border-zinc-700">
        <pre id="copiedText" class="whitespace-pre-wrap text-zinc-300"></pre>
      </div>

      <div id="timerContainer" class="text-pink-400 text-xl font-medium mb-6">
        –û—Ç–∫—Ä—ã–≤–∞—é –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ <span id="countdown" class="text-3xl font-bold">3</span>...
      </div>

      <button onclick="location.reload()" class="w-full bg-zinc-700 py-4 rounded-3xl font-medium">
        –ó–∞–ø–æ–ª–Ω–∏—Ç—å –µ—â—ë –æ–¥–Ω—É
      </button>
    </div>
  </div>

  <script>
    const fetishCategories = [
      {title: "–ë–∞–∑–æ–≤—ã–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ", items: ["–ì—Ä—è–∑–Ω—ã–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã", "–°–µ–∫—Å—Ç–∏–Ω–≥", "–ì–æ–ª–æ—Å–æ–≤—ã–µ", "–í–∏–¥–µ–æ/—Ñ–æ—Ç–æ", "–§–ª–∏—Ä—Ç", "–ù–∞–º—ë–∫–∏", "–†–æ–ª–µ–≤—ã–µ –¥–∏–∞–ª–æ–≥–∏"]},
      {title: "BDSM –∏ –≤–ª–∞—Å—Ç—å", items: ["–î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "–ü–æ–¥—á–∏–Ω–µ–Ω–∏–µ", "–ë–æ–Ω–¥–∞–∂", "–®–∏–±ari", "–ü–æ—Ä–∫–∞", "–í–æ—Å–∫", "–£–Ω–∏–∂–µ–Ω–∏–µ", "–ü–µ—Ç-–ø–ª–µ–π", "–û—à–µ–π–Ω–∏–∫", "–ü–ª—ë—Ç–∫–∞"]},
      {title: "–§–µ—Ç–∏—à–∏ —Ç–µ–ª–∞", items: ["–§—É—Ç-—Ñ–µ—Ç–∏—à", "–ù–æ–≥–∏", "–ö–æ–ª–≥–æ—Ç–∫–∏/—á—É–ª–∫–∏", "–õ–∏–Ω–≥–µ—Ä–∏", "–õ–∞—Ç–µ–∫—Å", "–ö–æ—Å–ø–ª–µ–π", "–¢–∞—Ç—É/–ø–∏—Ä—Å–∏–Ω–≥"]},
      {title: "–°–µ–∫—Å—É–∞–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏", items: ["–û—Ä–∞–ª—å–Ω—ã–π", "–ê–Ω–∞–ª—å–Ω—ã–π", "–ò–≥—Ä—É—à–∫–∏", "–ö–∞–º—à–æ—Ç", "–ö—Ä–µ–º–ø–∞–π", "–°–∫–≤–∏—Ä—Ç", "–≠–¥–∂–∏–Ω–≥"]},
      {title: "–†–æ–ª–µ–≤—ã–µ –∏ —Ç–∞–±—É", items: ["–£—á–∏—Ç–µ–ª—å/—É—á–µ–Ω–∏–∫", "–î–æ–∫—Ç–æ—Ä/–ø–∞—Ü–∏–µ–Ω—Ç", "–ò–Ω—Ü–µ—Å—Ç-—Ä–æ–ª—å–∫–∏", "CNC", "–ú–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤", "–ü—É–±–ª–∏—á–Ω—ã–π —Å–µ–∫—Å"]}
    ];

    function renderFetishes() {
      const container = document.getElementById('fetishes');
      fetishCategories.forEach(cat => {
        const div = document.createElement('div');
        div.innerHTML = `
          <h3 class="text-pink-400 font-medium mb-3">${cat.title}</h3>
          <div class="grid grid-cols-2 gap-3">
            ${cat.items.map(item => `
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" value="${item}" class="w-5 h-5 accent-pink-600">
                <span class="text-zinc-300">${item}</span>
              </label>
            `).join('')}
          </div>`;
        container.appendChild(div);
      });
    }

    function renderKogo() {
      const kogoList = ["–ê–∫—Ç–∏–≤", "–ü–∞—Å—Å–∏–≤", "–£–Ω–∏"];
      const container = document.getElementById('kogo');
      kogoList.forEach(item => {
        const div = document.createElement('div');
        div.className = "flex items-center gap-2";
        div.innerHTML = `
          <input type="checkbox" value="${item}" class="w-5 h-5 accent-pink-600">
          <span class="text-zinc-300">${item}</span>
        `;
        container.appendChild(div);
      });
    }

    function generatePostText() {
      let text = '–ê–≤—Ç–æ—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∏–≥ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–∏—è\n\n';

      const about = document.getElementById('about').value.trim();
      if (about) text += `–û —Å–µ–±–µ:\n${about}\n\n`;

      if (document.getElementById('gender').value) text += `–ü–æ–ª: ${document.getElementById('gender').value}\n`;

      if (document.getElementById('role').value) text += `–ü–æ–∑–∏—Ü–∏—è –≤ —Å—é–∂–µ—Ç–∞—Ö: ${document.getElementById('role').value}\n`;

      const search = document.getElementById('search').value.trim();
      if (search) text += `\n–ß—Ç–æ –∏—â—É:\n${search}\n\n`;

      const kogoSelected = Array.from(document.querySelectorAll('#kogo input:checked')).map(cb => cb.value);
      if (kogoSelected.length) text += `–ö–æ–≥–æ –∏—â—É: ${kogoSelected.join(', ')}\n\n`;

      const selectedFetishes = Array.from(document.querySelectorAll('#fetishes input:checked')).map(cb => {
        return '#' + cb.value.replace(/\s+/g, '_');
      });

      if (selectedFetishes.length) {
        text += `–§–µ—Ç–∏—à–∏: ${selectedFetishes.join(' ')}\n`;
      }

      return text.trim();
    }

    async function submitForm() {
      if (!document.getElementById('adult').checked) {
        alert('‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏, —á—Ç–æ —Ç–µ–±–µ 18+');
        return;
      }

      const text = generatePostText();
      
      try {
        await navigator.clipboard.writeText(text);

        document.getElementById('copiedText').textContent = text;
        document.getElementById('successModal').classList.remove('hidden');

        let seconds = 3;
        const countdownEl = document.getElementById('countdown');
        countdownEl.textContent = seconds;

        const interval = setInterval(() => {
          seconds--;
          countdownEl.textContent = seconds;
          if (seconds <= 0) {
            clearInterval(interval);
            window.open('https://vk.com/wall-180485573?suggested=1', '_blank');
          }
        }, 1000);

      } catch (e) {
        alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å. –ü–æ–ø—Ä–æ–±—É–π –≤ Chrome.');
      }
    }

    window.onload = () => {
      renderFetishes();
      renderKogo();
    };
  </script>
</body>
</html>
